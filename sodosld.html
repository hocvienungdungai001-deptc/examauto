<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SÆ¡ Ä‘á»“ Ä‘iá»‡n chÃ­nh - NhÃ  mÃ¡y Thá»§y Ä‘iá»‡n Báº£o Lá»™c v1.0</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #1a1a1a; color: white; text-align: center; }
        .container { display: flex; flex-direction: column; align-items: center; padding: 20px; }
        svg { background-color: #222; border: 2px solid #555; max-width: 1000px; height: auto; }
        
        /* Tráº¡ng thÃ¡i thiáº¿t bá»‹ */
        .closed { stroke: #ff4444; stroke-width: 3; } /* Äang Ä‘Ã³ng - CÃ³ Ä‘iá»‡n */
        .open { stroke: #00ff00; stroke-width: 3; }   /* Äang má»Ÿ - CÃ¡ch ly */
        .grounded { stroke: #ffeb3b; stroke-width: 3; } /* Tiáº¿p Ä‘á»‹a */
        
        .label { fill: white; font-size: 12px; font-weight: bold; pointer-events: none; }
        .btn-switch { cursor: pointer; transition: 0.3s; }
        .btn-switch:hover { opacity: 0.7; }
        
        .info-panel { margin-top: 20px; padding: 15px; background: #333; border-radius: 8px; border: 1px solid #777; }
        .version { position: absolute; top: 10px; right: 10px; color: #888; }
    </style>
</head>
<body>

    <div class="version">Version 1.0</div>
    <h2>SÆ  Äá»’ ÄIá»†N CHÃNH - NHÃ€ MÃY THá»¦Y ÄIá»†N Báº¢O Lá»˜C</h2>

    <div class="container">
        <svg viewBox="0 0 800 600" width="800">
            <line x1="100" y1="50" x2="700" y2="50" stroke="#ff4444" stroke-width="4" />
            <text x="710" y="55" class="label">110kV BUS</text>

            <line x1="400" y1="50" x2="400" y2="20" stroke="#ff4444" stroke-width="3" />
            <rect id="MC_171" x="385" y="20" width="30" height="20" fill="red" class="btn-switch" onclick="toggleDevice('MC_171')" />
            <text x="420" y="35" class="label">MC 171</text>

            <g id="Unit1">
                <line id="Line_131_1" x1="200" y1="50" x2="200" y2="100" class="closed" />
                <circle id="DCL_131_1" cx="200" cy="100" r="8" fill="red" class="btn-switch" onclick="toggleDevice('DCL_131_1')" />
                <text x="215" y="105" class="label">131-1</text>

                <circle cx="200" cy="180" r="25" fill="none" stroke="white" stroke-width="2" />
                <circle cx="200" cy="210" r="25" fill="none" stroke="white" stroke-width="2" />
                <text x="235" y="195" class="label">TM1</text>

                <line x1="200" y1="235" x2="200" y2="280" class="closed" />
                <rect id="MC_601" x="185" y="280" width="30" height="20" fill="red" class="btn-switch" onclick="toggleDevice('MC_601')" />
                <text x="220" y="295" class="label">MC 601</text>

                <circle cx="200" cy="360" r="30" fill="none" stroke="white" stroke-width="3" />
                <text x="192" y="365" class="label" style="font-size: 16px;">G1</text>
                
                <line x1="140" y1="360" x2="170" y2="360" stroke="white" />
                <rect id="TD_TE1" x="120" y="350" width="20" height="10" fill="green" class="btn-switch" onclick="toggleGround('TD_TE1')" />
                <text x="80" y="360" class="label">TE1</text>
            </g>

            <g id="Unit2">
                <line id="Line_132_1" x1="600" y1="50" x2="600" y2="100" class="closed" />
                <circle id="DCL_132_1" cx="600" cy="100" r="8" fill="red" class="btn-switch" onclick="toggleDevice('DCL_132_1')" />
                <text x="615" y="105" class="label">132-1</text>

                <circle cx="600" cy="180" r="25" fill="none" stroke="white" stroke-width="2" />
                <circle cx="600" cy="210" r="25" fill="none" stroke="white" stroke-width="2" />
                <text x="635" y="195" class="label">TM2</text>

                <line x1="600" y1="235" x2="600" y2="280" class="closed" />
                <rect id="MC_602" x="585" y="280" width="30" height="20" fill="red" class="btn-switch" onclick="toggleDevice('MC_602')" />
                <text x="620" y="295" class="label">MC 602</text>

                <circle cx="600" cy="360" r="30" fill="none" stroke="white" stroke-width="3" />
                <text x="592" y="365" class="label" style="font-size: 16px;">G2</text>

                <line x1="630" y1="360" x2="660" y2="360" stroke="white" />
                <rect id="TD_TE2" x="660" y="350" width="20" height="10" fill="green" class="btn-switch" onclick="toggleGround('TD_TE2')" />
                <text x="690" y="360" class="label">TE2</text>
            </g>

            <rect x="350" y="450" width="100" height="60" fill="none" stroke="white" stroke-dasharray="5,5" />
            <text x="400" y="485" class="label" text-anchor="middle">22kV OUTSIDE</text>
            <line x1="400" y1="450" x2="400" y2="400" stroke="white" />
            <rect id="MC_QA41" x="390" y="380" width="20" height="20" fill="red" class="btn-switch" onclick="toggleDevice('MC_QA41')" />
            <text x="420" y="395" class="label">QA41</text>

        </svg>

        <div class="info-panel">
            <strong>HÆ¯á»šNG DáºªN:</strong><br>
            - Click vÃ o ğŸŸ¦ (MÃ¡y cáº¯t) hoáº·c ğŸ”´ (Dao cÃ¡ch ly) Ä‘á»ƒ Ä‘Ã³ng/má»Ÿ.<br>
            - Click vÃ o ğŸŸ© (Dao tiáº¿p Ä‘á»‹a) Ä‘á»ƒ ná»‘i Ä‘áº¥t an toÃ n.<br>
            - MÃ u ğŸ”´: CÃ³ Ä‘iá»‡n | MÃ u ğŸŸ¢: CÃ¡ch ly | MÃ u ğŸŸ¡: Tiáº¿p Ä‘á»‹a.
        </div>
    </div>

    <script>
        function toggleDevice(id) {
            const el = document.getElementById(id);
            const isClosed = el.getAttribute('fill') === 'red';
            
            if (isClosed) {
                el.setAttribute('fill', 'green');
                updateLineStatus(id, false);
            } else {
                el.setAttribute('fill', 'red');
                updateLineStatus(id, true);
            }
        }

        function toggleGround(id) {
            const el = document.getElementById(id);
            const isGrounded = el.getAttribute('fill') === 'yellow';
            
            if (isGrounded) {
                el.setAttribute('fill', 'green');
                alert("ÄÃ£ thÃ¡o tiáº¿p Ä‘á»‹a!");
            } else {
                el.setAttribute('fill', 'yellow');
                alert("Cáº¢NH BÃO: ÄÃ£ Ä‘Ã³ng dao tiáº¿p Ä‘á»‹a!");
            }
        }

        function updateLineStatus(deviceId, isActive) {
            // Logic Ä‘Æ¡n giáº£n Ä‘á»ƒ thay Ä‘á»•i mÃ u dÃ¢y dáº«n khi thiáº¿t bá»‹ thay Ä‘á»•i
            if (deviceId === 'DCL_131_1') {
                document.getElementById('Line_131_1').className.baseVal = isActive ? 'closed' : 'open';
            }
            if (deviceId === 'DCL_132_1') {
                document.getElementById('Line_132_1').className.baseVal = isActive ? 'closed' : 'open';
            }
        }
    </script>
</body>
</html>
